function addNewCanvas(){var n=document.getElementById("content"),a=document.createElement("canvas");n.appendChild(a);var e=new fabric.Canvas(a);e.selection=!1,e.draggable=!1,e.isDrawingMode=!0,e.freeDrawingBrush.width=parseInt($("#line-width").val()),console.log(screen.width+"px, "+screen.height+"px"),e.setDimensions({width:screen.width,height:screen.height}),canvasInstances.push(e),canvas.fabricCanvasObj=!0}var canvasInstances=[];$("#add_canvas").on("click",function(){addNewCanvas()}),$("#add_text").on("click",function(){canvasInstances.forEach(function(n){var a=new fabric.Textbox("Sample");n.add(a).renderAll()})}),$("#add_circle").on("click",function(){canvasInstances.forEach(function(n){var a=new fabric.Circle({radius:50,left:10,top:10});n.add(a).renderAll()})}),$("#black_pen").on("click",function(){canvasInstances.forEach(function(n){n.freeDrawingBrush.width=20,n.freeDrawingBrush.color="#000000"})}),$("#red_pen").on("click",function(){canvasInstances.forEach(function(n){n.freeDrawingBrush.width=20,n.freeDrawingBrush.color="#FF0000"})}),$("#line-width").change(function(){canvasInstances.forEach(function(n){n.freeDrawingBrush.width=parseInt($("#line-width").val()),$("#size").text(parseInt($("#line-width").val())+"px")})});